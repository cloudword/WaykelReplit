Perfect, this is a real CI/Gradle issue, not architecture, not Replit, not Capacitor-in-general.
Now that I know your full setup, I can tell you exactly whatâ€™s broken and how to fix it permanently.

ğŸ”´ CI FAILURE â€” ROOT CAUSE (CLEAR)
Error
Could not get unknown property 'org' for project ':app'

Location
android/build.gradle line: 40

Meaning (very important)

Gradle is trying to read something like:

org.gradle.jvmargs
org.gradle.java.home
org.gradle.javaVersion


from the wrong place.

In Gradle, properties like org.gradle.*:

âŒ CANNOT be referenced inside build.gradle
âœ… MUST live in gradle.properties

Your CI runner (GitHub Actions) is stricter than local Android Studio, so CI fails while local may pass.

ğŸ§  WHY THIS HAPPENS IN YOUR PROJECT

From earlier fixes, you (or the agent) tried to force Java 17 and likely added something like this inside android/build.gradle:

compileOptions {
    sourceCompatibility JavaVersion.VERSION_17
    targetCompatibility JavaVersion.VERSION_17
    org.gradle.jvmargs = "-Xmx2048m"
}


or:

def javaVersion = org.gradle.javaVersion


ğŸš¨ This is invalid Gradle syntax

âœ… THE CORRECT, PRODUCTION-SAFE FIX

We will:

Remove all org.gradle.* references from build.gradle

Put them in gradle.properties

Make CI + local builds consistent

ğŸ›  STEP 1: FIX android/build.gradle

Open:

android/build.gradle


Go to line ~40 (as mentioned in error).

âŒ REMOVE anything like:
org.gradle.jvmargs = ...
org.gradle.java.home = ...
org.gradle.javaVersion = ...
def x = org.gradle.something

âœ… Your build.gradle should ONLY contain Gradle DSL, like:
buildscript {
    repositories {
        google()
        mavenCentral()
    }
}


ğŸ“Œ org.gradle.* NEVER belongs here

ğŸ›  STEP 2: ADD / FIX gradle.properties (THIS IS KEY)

Open:

android/gradle.properties


If it does not exist â†’ create it.

Add exactly this:

# JVM memory
org.gradle.jvmargs=-Xmx4096m -Dfile.encoding=UTF-8

# Force Java 17 everywhere
org.gradle.java.home=/usr/lib/jvm/java-17-openjdk


ğŸ‘‰ In CI, this path will be overridden automatically by setup-java, so itâ€™s safe.

ğŸ›  STEP 3: FIX JAVA VERSION IN GITHUB ACTION (MANDATORY)

In your Android CI workflow (.github/workflows/build-android*.yml):

Make sure this exists before Gradle runs:

- name: Set up JDK 17
  uses: actions/setup-java@v4
  with:
    distribution: 'temurin'
    java-version: '17'


ğŸš¨ If Java 21 is picked accidentally â†’ Gradle + AGP explodes.

ğŸ›  STEP 4: ENSURE AGP COMPATIBILITY (IMPORTANT)

In:

android/build.gradle


Ensure Android Gradle Plugin is compatible with Gradle 8.11:

classpath "com.android.tools.build:gradle:8.2.2"


âœ… AGP 8.2.x
âŒ Not older than 8.0
âŒ Not preview versions

ğŸ§ª WHY THIS FAILS ONLY IN CI
Environment	Behavior
Android Studio	Lenient, cached
GitHub Actions	Strict, clean
Replit	Not used for Android

CI exposes real Gradle contract violations.

âœ… EXPECTED RESULT AFTER FIX

After pushing these fixes:

./gradlew assembleDebug


âœ” No org property error
âœ” Java 17 enforced
âœ” Android build passes
âœ” Merge request unblocked